+----+-------------+------------+------------+--------+---------------+-------------+---------+----------------------------------+--------+----------+---------------------------------+
| id | select_type | table      | partitions | type   | possible_keys | key         | key_len | ref                              | rows   | filtered | Extra                           |
+----+-------------+------------+------------+--------+---------------+-------------+---------+----------------------------------+--------+----------+---------------------------------+
|  1 | PRIMARY     | <derived3> | NULL       | ALL    | NULL          | NULL        | NULL    | NULL                             |  49173 |   100.00 | Using temporary; Using filesort |
|  1 | PRIMARY     | t          | NULL       | ref    | PRIMARY       | PRIMARY     | 4       | max_t.emp_no                     |      1 |     3.38 | Using where; Using index        |
|  1 | PRIMARY     | e          | NULL       | eq_ref | PRIMARY       | PRIMARY     | 4       | max_t.emp_no                     |      1 |   100.00 | NULL                            |
|  1 | PRIMARY     | <derived2> | NULL       | ref    | <auto_key1>   | <auto_key1> | 4       | max_t.emp_no                     |     15 |   100.00 | Using where                     |
|  1 | PRIMARY     | s          | NULL       | eq_ref | PRIMARY       | PRIMARY     | 7       | max_t.emp_no,max_s.max_from_date |      1 |   100.00 | NULL                            |
|  3 | DERIVED     | titles     | NULL       | index  | PRIMARY       | PRIMARY     | 59      | NULL                             | 442605 |    11.11 | Using where; Using index        |
|  2 | DERIVED     | salaries   | NULL       | range  | PRIMARY       | PRIMARY     | 4       | NULL                             | 298734 |   100.00 | Using index for group-by        |
+----+-------------+------------+------------+--------+---------------+-------------+---------+----------------------------------+--------+----------+---------------------------------+

+----+-------------+------------+------------+--------+------------------------------------------------------+-----------------------------+---------+----------------------------------+--------+----------+----------------------------------------------+
| id | select_type | table      | partitions | type   | possible_keys                                        | key                         | key_len | ref                              | rows   | filtered | Extra                                        |
+----+-------------+------------+------------+--------+------------------------------------------------------+-----------------------------+---------+----------------------------------+--------+----------+----------------------------------------------+
|  1 | PRIMARY     | <derived3> | NULL       | ALL    | NULL                                                 | NULL                        | NULL    | NULL                             |  49173 |   100.00 | Using where; Using temporary; Using filesort |
|  1 | PRIMARY     | e          | NULL       | eq_ref | PRIMARY                                              | PRIMARY                     | 4       | max_t.emp_no                     |      1 |   100.00 | NULL                                         |
|  1 | PRIMARY     | t          | NULL       | ref    | PRIMARY,idx_titles_emp_no_from_date                  | idx_titles_emp_no_from_date | 7       | max_t.emp_no,max_t.max_from_date |      1 |    11.11 | Using where; Using index                     |
|  1 | PRIMARY     | <derived2> | NULL       | ref    | <auto_key1>                                          | <auto_key1>                 | 4       | max_t.emp_no                     |     15 |   100.00 | Using where                                  |
|  1 | PRIMARY     | s          | NULL       | eq_ref | PRIMARY,idx_salaries_emp_no_from_date                | PRIMARY                     | 7       | max_t.emp_no,max_s.max_from_date |      1 |   100.00 | NULL                                         |
|  3 | DERIVED     | titles     | NULL       | index  | PRIMARY,idx_titles_emp_no_from_date,idx_titles_title | idx_titles_emp_no_from_date | 7       | NULL                             | 442605 |    11.11 | Using where; Using index                     |
|  2 | DERIVED     | salaries   | NULL       | range  | PRIMARY,idx_salaries_emp_no_from_date                | PRIMARY                     | 4       | NULL                             | 298734 |   100.00 | Using index for group-by                     |
+----+-------------+------------+------------+--------+------------------------------------------------------+-----------------------------+---------+----------------------------------+--------+----------+----------------------------------------------+